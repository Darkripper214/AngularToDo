<div class="container">
  <div class="alert alert-danger" role="alert" *ngIf="errorMsg">
    Cannot Add Overdued Task
  </div>
  <form [formGroup]="form" (ngSubmit)="onSubmit()">
    <div class="form-group">
      <label for="desc">Description</label>
      <input
        type="text"
        class="form-control"
        id="desc"
        formControlName="desc"
      />
    </div>
    <div class="form-group">
      <label for="date">Due</label>
      <input type="date" class="form-control" id="date" formControlName="due" />
    </div>
    <div class="form-group form-check">
      <label>Priority</label>
      <br />
      <div class="col-3">
        <input
          type="radio"
          name="priority"
          class="form-check-input"
          id="high"
          formControlName="priority"
          value="high"
        />
        <label class="form-check-label" for="high">High</label>
      </div>

      <div class="col-3">
        <input
          type="radio"
          name="priority"
          class="form-check-input"
          id="medium"
          formControlName="priority"
          value="medium"
        />
        <label class="form-check-label" for="medium">Medium </label>
      </div>

      <div class="col-3">
        <input
          type="radio"
          name="priority"
          class="form-check-input"
          id="low"
          formControlName="priority"
          value="low"
        />
        <label class="form-check-label" for="low">Low</label>
      </div>
    </div>
    <div
      class="alert alert-warning"
      *ngIf="
        form.get('desc').hasError('required') ||
        form.get('due').hasError('required') ||
        form.get('priority').hasError('required')
      "
    >
      Please input all fields
    </div>
    <button type="submit" class="btn btn-primary" [disabled]="!form.valid">
      Submit
    </button>
  </form>

  <h3>Task</h3>

  <ul class="list-group col-12">
    <li
      class="list-group-item row"
      *ngFor="let todo of toDoList; let i = index"
    >
      <div class="d-flex">
        <p
          class="col-10"
          [ngStyle]="{ 'text-decoration': todo.complete ? 'line-through' : '' }"
        >
          {{ todo.desc }} --- {{ todo.due }} --- {{ todo.priority }}
        </p>
        <button class="col-1 btn btn-primary" (click)="completeSingleToDo(i)">
          Complete
        </button>
        <button class="col-1 btn btn-danger ml-1" (click)="deleteSingleToDo(i)">
          Delete
        </button>
      </div>
    </li>
  </ul>

  <button class="btn btn-danger" type="button" (click)="clearLS()">
    Clear Local Storage
  </button>
</div>
